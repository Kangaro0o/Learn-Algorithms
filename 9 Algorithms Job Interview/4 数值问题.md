# 数值问题

这部分都是一些数学几何计算方面的问题。主要由：

* [加减乘除](4.1%20数值-加减乘除.md)
* 指数(乘方)
* 随机数
* 进制转换：位运算
* 大数问题


## ipv4 转 int

比如： 127.0.0.1 ， 转为int 为  (01111111 00000000 00000000 00000001)

思路：

```
int toInt(){

}
```

那么，int 转 ipv4 如何解呢？



## 整数的二进制表示中1的个数

题目：输入一个整数，求该整数的二进制表达中有多少个1。例如输入10，由于其二进制表示为1010，有两个1，因此输出2。

分析：
这是一道很基本的考查位运算的面试题。
解法1：一轮循环移位计数 （移位运算比除法运算效率要高,注意要考虑是负数的情况） 
解法2：位运算  
解法3：num &= num-1  巧妙之处在于，对高位没有影响。不断做 `num &= num-1` 直到num=0。

1010 & 1001 = 1000
1000 * 0111 = 0000

```
int one_appear_count_by_binary(int num){
	int count = 0;
	while(num !=0 ){
		num &=  num-1;
		count++;
	}
	return count;
}
```




## 把十进制数(long型)分别以二进制和十六进制形式输出，不能使用printf系列

分析：
```
char *integer_to_hex(long i); //eg: 20 => 14
char *integer_to_bin(long i); //eg: 20 => 10100
```

注意，转16进制中，要判断tmp[i]是否是有符号的数
```
tmp[i] = tmp[i]>=0 ? tmp[i] : tmp[i]+16;
```



## 请定义一个宏，比较两个数a、b的大小，不能使用大于、小于、if语句

分析：
```
#define min(a,b) （(a)>(b)?(a):(b)）
#define MIN(A,B) ({ __typeof__(A) __a = (A); __typeof__(B) __b = (B); __a < __b ? __a : __b; })
```

这里不能使用比较符号：

```
#define min(a,b) ((a)-(b) & (0x1<<31))?(a):(b)
```



## 整数的素数和分解问题

> 歌德巴赫猜想说任何一个不小于6的偶数都可以分解为两个奇素数之和。
对此问题扩展，如果一个整数能够表示成两个或多个素数之和，则得到一个素数和分解式。

对于一个给定的整数，输出所有这种素数和分解式。
注意，对于同构的分解只输出一次（比如5只有一个分解2 + 3，而3 + 2是2 + 3的同构分解式


例如，对于整数8，可以作为如下三种分解：

```
(1) 8 = 2 + 2 + 2 + 2
(2) 8 = 2 + 3 + 3
(3) 8 = 3 + 5
```





